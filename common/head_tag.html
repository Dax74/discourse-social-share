<script type="text/discourse-plugin" version="0.8.23">
  var socprov = settings.social_share_links,
    sec = $.map(socprov.split("|"), $.trim);
  
  $.each(sec, function(value) {
    var sec = $.map(this.split(","), $.trim);
    api.addSharingSource({
      id: sec[0],
      icon: sec[1].toLowerCase(),
      title: sec[2],
      generateUrl: function(link, title) {
        return (sec[3] + encodeURIComponent(link) + "&title=" + encodeURIComponent(title));
      },
      shouldOpenInPopup: true,
      popupHeight: 265
    });
  });
</script>
<script type="text/discourse-plugin" version="0.8.23">
  api.addSharingSource({
    id: settings.whatsapp,
    icon: settings.social_icon,
    title: "",
    generateUrl: function(link, title) {
      return settings.whatsapp + encodeURIComponent(link)  + "&title=" + encodeURIComponent(title);
    },
    shouldOpenInPopup: true,
    popupHeight: 265
  })
</script>
<script type="text/discourse-plugin" version="0.8.23">
  api.addSharingSource({
    id: settings.whatsapp_web,
    icon: settings.social_icon,
    title: "",
    generateUrl: function(link, title) {
      return settings.whatsapp_web + encodeURIComponent(link)  + "&title=" + encodeURIComponent(title);
    },
    shouldOpenInPopup: true,
    popupHeight: 265
  })
</script>
